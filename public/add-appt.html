<!-- public/add-appt.html -->

<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Tutor(s)</title>
    <link rel="stylesheet" href="/styles/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-left">
            <div class="home-btn">
                <a href="index.html">
                    <button class="home-icon">üè†</button>
                </a>
            </div>
            <div class="search-bar">
                <button class="search-icon">
                    üîç 
                </button>
                <input type="text" placeholder="Search" id="search">
                <div class="dropdown">
                    <button class="dropdown-btn">Search Type ‚ñº</button>
                    <div class="dropdown-content">
                        <a href="#">Tutor</a>
                        <a href="#">Subject</a>
                        <a href="#">Course</a>
                        <a href="#">Date</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="dropdown">
            <button class="dropdown-btn">Add/Update ‚ñº</button>
            <div class="dropdown-content">
                <a href="add-tutor.html">Tutor</a>
                <a href="add-appt.html">Appointment/Shift</a>
                <a href="add-course.html">Course</a>
            </div>
        </div>
    </nav>
    <h1>Add an appointment:</h1>
    <button id="add-appt-form-container-btn">+</button>
    <button id="sub-appt-form-container-btn">-</button>
    <div id="add-appt-form-container">
        <form id="add-appt-form">
            <label for="tutor">Tutor:</label>
            <input type="text" id="tutor" name="tutor" required>

            <label for="subject">Subject (if applicable):</label>
            <input type="text" id="subject" name="subject">

            <label for="date">Date (Month/Day/Year):</label>
            <input type="text" id="date" name="date" required>

            <label for="startTime">Start time (military):</label>
            <input type="text" id="startTime" name="startTime" required>

            <label for="endTime">End time (military):</label>
            <input type="text" id="endTime" name="endTime" required>

            <label for="mode">Mode (IP/OL):</label>
            <input type="text" id="mode" name="mode" required>

            <label for="scholarAthlete">Scholar Athlete? (y/n):</label>
            <input type="text" id="scholarAthlete" name="scholarAthlete">

            <label for="days">Repeat days:</label>
            <div id="repeat-days-container">
                <button type="button" class="day-btn" data-day="mon">MON</button>
                <button type="button" class="day-btn" data-day="tues">TUES</button>
                <button type="button" class="day-btn" data-day="wed">WED</button>
                <button type="button" class="day-btn" data-day="thurs">THURS</button>
                <button type="button" class="day-btn" data-day="fri">FRI</button>
                <button type="button" class="day-btn" data-day="sun">SUN</button>
            </div>

            <button type="submit" id="add-appt">Add as appointment</button>
            <button type="submit" id="add-shift">Add as shift</button>
        </form>
    </div>

    

    <script src="/scripts/add-appt.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log("ERE 80");
            document.getElementById('add-appt-form-container-btn').addEventListener('click', function() {
                const formContainer = document.getElementById('add-appt-form-container');

                const newForm = document.getElementById('add-appt-form').cloneNode(true);
                const inputs = newForm.querySelectorAll('input, select');
                inputs.forEach(input => input.value = '');

                formContainer.appendChild(newForm);
            });
        });

        document.getElementById('sub-appt-form-container-btn').addEventListener('click', function() {
            const formContainer = document.getElementById('add-appt-form-container');

            const forms = formContainer.children;

            if (forms.length > 1) {
                const lastForm = forms[forms.length-1];
                lastForm.remove();
            }
        });

        document.addEventListener("DOMContentLoaded", () => {
            const dayButtons = document.querySelectorAll(".day-btn");
            const selectedDays = new Set();

            dayButtons.forEach((button) => {
                button.addEventListener("click", () => {
                    const day = button.getAttribute("data-day");

                    if (button.classList.contains("active")) {
                        button.classList.remove("active");
                        selectedDays.delete(day);
                    } else {
                        button.classList.add("active");
                        selectedDays.add(day);
                    }

                    console.log(Array.from(selectedDays));
                });
            });
        });
    </script>
</body>